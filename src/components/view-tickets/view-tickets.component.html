<div class="container mt-4">
  <h2 class="mb-4">Visualización de Tickets</h2>
  <div class="table-responsive">
    <table class="table table-hover">
      <thead class="table-dark">
        <tr>
          <th>Título</th>
          <th>Descripción</th>
          <th>Estado</th>
          <th>Prioridad</th>
          <th>Categoría</th>
          <th>Solicitante</th>
          <th>Email</th>
          <th>Teléfono</th>
          <th>Fecha de Creación</th>
          <th>Asignado a</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let ticket of tickets">
          <td>{{ ticket.title }}</td>
          <td>{{ ticket.description }}</td>
          <td>
            <select [(ngModel)]="ticket.status" class="form-select">
              <option *ngFor="let status of statusOptions" [value]="status">{{ status }}</option>
            </select>
          </td>
          <td>
            <select [(ngModel)]="ticket.priority" class="form-select">
              <option *ngFor="let priority of priorityOptions" [value]="priority">{{ priority }}</option>
            </select>
          </td>
          <td>{{ ticket.category }}</td>
          <td>{{ ticket.applicantName }}</td>
          <td>{{ ticket.applicantEmail }}</td>
          <td>{{ ticket.applicantPhone }}</td>
          <td>{{ ticket.createdDate | date: 'yyyy-MM-dd HH:mm' }}</td>
          <td>
            <select [(ngModel)]="ticket.assignedUser" class="form-select">
              <option *ngFor="let user of users" [value]="user">{{ user }}</option>
            </select>
          </td>
          <td>
            <button class="btn btn-primary btn-sm" (click)="updateTicket(ticket)">Guardar Cambios</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>